<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STUART — Trading Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<!-- Top Bar -->
<header class="top-bar">
    <div class="top-bar-left">
        <div class="bot-name">
            <span class="status-dot" id="statusDot"></span>
            <span class="name">STUART</span>
            <span class="status-label" id="statusLabel">CONNECTING</span>
        </div>
    </div>
    <div class="top-bar-stats">
        <div class="stat">
            <span class="stat-label">Bankroll</span>
            <span class="stat-value mono" id="bankroll">—</span>
        </div>
        <div class="stat">
            <span class="stat-label">Position Value</span>
            <span class="stat-value mono" id="pnlToday">—</span>
        </div>
        <div class="stat">
            <span class="stat-label">Unrealized P&L</span>
            <span class="stat-value mono" id="pnlTotal">—</span>
        </div>
        <div class="stat">
            <span class="stat-label">Deployed</span>
            <span class="stat-value mono" id="uptime">—</span>
        </div>
    </div>
    <div class="top-bar-right">
        <button class="kill-btn" id="killBtn">⏻ KILL SWITCH</button>
    </div>
</header>

<!-- Main Grid -->
<main class="grid">
    <!-- Left Column -->
    <div class="col-left">
        <!-- P&L Chart -->
        <section class="card">
            <div class="card-header">
                <h2>P&L</h2>
                <div class="time-selector">
                    <button class="time-btn active" data-range="1h">1H</button>
                    <button class="time-btn" data-range="24h">24H</button>
                    <button class="time-btn" data-range="7d">7D</button>
                    <button class="time-btn" data-range="all">ALL</button>
                </div>
            </div>
            <div class="chart-wrap">
                <canvas id="pnlChart"></canvas>
            </div>
        </section>

        <!-- Recent Trades -->
        <section class="card">
            <div class="card-header"><h2>Recent Trades</h2></div>
            <div class="table-wrap">
                <table>
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Market</th>
                            <th>Side</th>
                            <th class="r">Price</th>
                            <th class="r">Cost</th>
                            <th class="r">Status</th>
                        </tr>
                    </thead>
                    <tbody id="tradesBody"></tbody>
                </table>
            </div>
        </section>
    </div>

    <!-- Right Column -->
    <div class="col-right">
        <!-- Active Positions -->
        <section class="card">
            <div class="card-header"><h2>Active Positions</h2></div>
            <div id="positions" class="card-body scroll"></div>
        </section>

        <!-- Strategy Status -->
        <section class="card">
            <div class="card-header"><h2>Strategies</h2></div>
            <div id="strategies" class="card-body scroll"></div>
        </section>

        <!-- Open Orders -->
        <section class="card">
            <div class="card-header"><h2>Open Orders</h2></div>
            <div id="orders" class="card-body scroll"></div>
        </section>
    </div>
</main>

<!-- Activity Feed -->
<footer class="card activity-card">
    <div class="card-header"><h2>Live Activity</h2><span class="ws-badge" id="wsBadge">●</span></div>
    <div id="activityFeed" class="activity-feed"></div>
</footer>

<!-- Connecting Overlay -->
<div class="connecting-overlay" id="connectingOverlay">
    <div class="connecting-spinner"></div>
    <div class="connecting-text">Connecting to live feed...</div>
</div>

<script src="app.js"></script>
</body>
</html>
